<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script>
    // map
    function pow(x) {
        return x * x;
    }
    var arr = [1,2,3,4,5,6,7,8,9];
    arr.map(pow);
    console.log(arr.map(pow));
    // [1, 4, 9, 16, 25, 36, 49, 64, 81]

    var f = function(x) {
        return x * x;
    }
    var arr = [1,2,3,4,5,6,7,8,9];
    var result = [];
    for(var i=0; i<arr.length; i++) {
        result.push(f(arr[i]))
    }

    var arr = [1,2,3,4,5,6,7,8,9];
    arr.map(String);
    console.log(arr.map(String));
    // ["1", "2", "3", "4", "5", "6", "7", "8", "9"]

    // reduce
    // [x1,x2,x3,x4].reduce(f) = f(f(f(x1,x2),x3),x4)
    var arr = [1,3,5,7,9];
    var sum = arr.reduce(function(x,y) {
        return x + y
    })
    console.log('sum', sum); // 25


    // filter
    var arr = [1,2,3,4,5,6,7,8,9,11];
    var r = arr.filter(function(x) {
        return x%2 !== 0
    })
    console.log(r); //[1,3,5,7,9,11]

    var arr = ['A','','B', null, undefined,'C',''];
    var r = arr.filter(function(s) {
        return s && s.trim()
    })
    console.log(r); // ['A','B','C']
    console.log(arr); 
    // ['A','','B', null, undefined,'C','']

    var arr = ['A','B','C'];
    var r = arr.filter((ele, index, self) => {
        console.log(ele);
        console.log(index);
        console.log(self);
        return false;
    })
    console.log(arr); // ['A','B','C']
    console.log(r); // []

    // 去重
    'use strict';
    var r, arr = ['apple', 'strawberry', 'banana', 'pear', 'apple', 'strawberry','orange','orange'];
    r = arr.filter((ele, index, self) => {
        return self.indexOf(ele) === index
    })
    console.log(r.toString()); 
    // apple,strawberry,banana,pear,orange
    console.log(r); 
    // ["apple", "strawberry", "banana", "pear", "orange"]

    // sort
    var arr = [10, 20, 1, 2];
    var r = arr.sort(function(x,y) {
        if(x>y) return -1
        if(y>x) return 1
        return 0
    })
    console.log(arr); //[20, 10, 2, 1]
    console.log(r); //[20, 10, 2, 1]
    

    var arr = [10, 20, 1, 2];
    var r = arr.sort(function(x,y) {
        if(x>y) return 1
        if(y>x) return -1
        return 0
    })
    console.log(arr); // [1, 2, 10, 20]
    console.log(r); // [1, 2, 10, 20]
    var rr = arr.sort()
    console.log(rr); // [1, 10, 2, 20]

    var arr = ['google', 'apple', 'microsoft'];
    var r = arr.sort((s1,s2) => {
        x1 = s1.toUpperCase()
        x2 = s2.toUpperCase()
        if(x1<x2) return -1
        if(x1>x2) return 1
        return 0
    })
    console.log(arr); //["apple", "google", "microsoft"]
    console.log(r); //["apple", "google", "microsoft"]

    var a1 = ['B','A','C']
    var a2 = a1.sort()
    console.log(a1); //['A','B','C']
    console.log(a2); // ['A','B','C']
    console.log(a1===a2); // true
</script>
</body>
</html>